<!DOCTYPE html>
<meta charset="utf-8">

<head>
    <script type="text/javascript" src="d3/d3.min.js"></script>
    <script type="text/javascript" src="scripts/data.js"></script>
    <style>
    svg {
        display: block;
        margin: auto;
        border: 1px solid lightgrey;
    }
    
    body {
        font: 16px Arial;
    }
    
    h2 {
        margin: auto;
        text-align: center;
        font-family: sans-serif;
        font-weight: 300;
    }
    </style>
</head>

<body>
    <h2>Trainings in Time</h2>
    <div id="chart">
    </div>

    <script>
    // Set the dimensions of the canvas / graph
    var margin = {
        top: 30,
        right: 30,
        bottom: 0,
        left: 60
    };
    var w = 800,
        h = 500,
        padding = 50;

    var width = w - margin.left - margin.right,
        height = h - margin.top - margin.bottom;

    var data = data;

    // parse string
    data.forEach(function(d) {
        d.StartTime = Date.parse(d.StartTime);
    })

    // here we append svg to our html
    var svg = d3.select("#chart").append("svg")
        .attr("width", width)
        .attr("height", height);

    // let's start to draw a chart!
    //  functions => look further
    function calculateX(d, i) {
        var ret = i * width / data.length;
        return ret;
    }

    function calculateY(d, i) {
        var ret = 0;
        return ret;
    }

    function calculateWidth() {
        var ret = width / data.length;
        return ret;
    }

    function calculateHeight(d, i) {
        var ret = i * 10;
        return ret;
    }

    // here: for simplicity purpose we put functions from above here, can be directly written here as well
    svg.selectAll("rect")
        .data(data)
        .enter()
        .append("rect")
        .attr({
            x: function(d, i) {
                return calculateX(d, i);
            },
            y: function(d, i) {
                return calculateY(d, i);
            },
            width: function() {
                var ret = calculateWidth();
                return ret;
            },
            height: function(d, i) {
                return calculateHeight(d, i);
            },
            fill: "purple"
        });
    </script>
</body>
